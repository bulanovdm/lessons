kubectl get componentstatuses - Показать Состояние kubernetes cluster

kubectl proxy - Создаёт прокси сервер для общения с кластером kubernetes, url по уполчанию http://localhost:8001/

kubectl cluster-info - Показать информацию о kubernetes cluster

kubectl get nodes - Показать все серверы kubernetes cluster

kubectl get pods - Показать все поды
    --show-labels  дополнительный столбец с метками
    -L <название метки/название меток через запятую> - Показывает все поды c дополнительным столбцом/столбцами с
    указанными метками, (независимо есть ли метка у пода или нет)
    -l <назвыние метки> - Делаем выборку объектов у которых есть указанная метка, можно
    -l <название метки = значение метки> - Делаем выборку объектов у которых есть указанная метка с указанным значением
    -l !<назавние метки> - Делаем выборку объектов у которых нет указанной метки
    -l <название метки != значение метки> - Делаем выборку объектов у которых есть метка со значением отличном от указанного
    -l <название метки> in (<значения через запятую>) - Делаем выборку объектов у которых есть метка с одним из указанным значением
    -l <название метки> notin (<значения через запятую>) - Делаем выборку объектов у которых есть метка со значением отличным от указанных
    Можно указывать несколько селекторов для меток через запятую
    --namespace (или -n) <пространство имён> - Селектор для пространства имён

kubectl get services - Показать список сервисов

kubectl get rc ( или replicationcontrollers ) - Показывает контроллеры репликаций

kubectl get rs ( или replicaset ) - Показывает replica set'ы

kubectl get ds - Показывает daemonSet'ы

kubectl get node - Показывает узлы

kubectl get svc - Показывает сервисы (службы)

kubectl get ingress - Показывает ingress

kubectl get job - Показывает объекты заданий

kubectl get ns - Показывает пространства имён

kubectl get pv - Показывает все PersistentVolume

kubectl get pvc - Показывает все PersistentVolumeClaim

kubectl get sc - Показывает все StorageClass

kubectl get secrets - Показывает секреты

kubectl run <имя пода/имя контроллера репликаций>
    --generator=run-pod/v1 (Создать под)  или   --generator=run/v1 (Создать контроллер репликаций, контроллер репликаций
                                                  создаёт поды с именем <имя контроллера репликаций + рандомный суффикс)
    --image=<имя образа>
    --port=<номер порта>

kubectl create namespace <имя пространства имён> - Создать свой нейм спейс

kubectl create -f <имя манифеста> -n <имя пространства имён> - Создать pod в указанном пространстве имён

kubectl create secret generic <имя секрета> --from-file=<файл> - Создать секрет из файла

kubectl create serviceaccount <имя учётной записи> - Создать имя учётной записи

kubectl label <объект, например pod> <название объекта> <сама метка (ключ=значение)> Устанавить метку объекту,
    если указанная метка уже есть у объекта, то чтобы перезаписать её значение используем дополнительный ключ --overwrite
    Пример ->   kubectl label pod my-pod-54kkt env=yes

kubectl annotate pod <название пода> <ключ=значение> - Добавить аннотацию к поду (можно к любому объекту)

kubectl apply -f <имя файла> - Создать объекты в kubernates из маннифест файла или обновить объект

kubectl scale rc <имя контроллера репликаций> --replicas=<количество реплик>  контроллер репликаций создаёт и поддерживает
    указанное количество реплик

kubectl delete -f <имя файла> - Удалить объекты в kubernates из маннифест файла

kubectl delete pod <имя пода> - Удалить под

kubectl delete <тип объекта/all> --all удалить все объекты указанного типа/удалить все объекты всех типов (системные объекты не удаляются)

kubectl delete rc <имя контроллера репликаций> --cascade=false   - Удаляет контроллер репликаций без удаления подов которых он контроллирует

kubectl describe pods <имя пода> - Показать всю информацию о поде

kubectl exec <имя пода> <команда> - Выполнить команду в поде

kubectl exec -it <имя модуля> -с <контейнера> bash - Открыть терминал в указанном контейнере указанного модуля

kubectl exec -it <имя модуля> - Открыть терминал в контейнере указанного модуля (если в модуле 1 контейнер)

kubectl rolling-update <старое имя контроллера репликаций> <новое имя контроллера репликаций> --image=<имя образа>
    скользящие обновление имаджа подов находящихся под управлением контроллера репликаций (рекомендуется обновлять модули через деплоймент)

kubectl rollout undo deployment <имя деплоймента> - Откатывает деплоймент к предыдущей версии, дописав --to-revision=<номер ревизии>

kubectl rollout history deployment <имя деплоймента> - Покаказывает историю ревизий

kubectl rollout status deployment <имя деплоймента> - Показывает статус деплоймента

kubectl patch <тип объекта> <имя объекта> -p '{"spec": {"replicas": 5}}' - Модифицирует отдельные свойства объекта
    не обновляет модули

kubectl set image <тип объекта> <имя объекта>=<имадж> - Устанавливает имадж

kubectl set image <тип объекта> <имя объекта> <имя контейнера>=<имадж> - (если несколько контейнеров)

kubectl logs <имя пода> - Показать логи пода

kubectl port-forward <имя пода> <локальный порт:порт пода> - Проброс порта с локальной машины в под

kubectl version - Показать версию клиента и сервера
    --client показать только версию клиента (kubectl)

kubectl expose rc <имя контроллера репликации> --type=LoadBalancer --name <имя сервиса>  - создать сервис балансировщика

kubectl edit <тип объекта> <имя объекта> - Редактировать манифест объекта

При включенном прокси можно делать запросы к сервису без ingress
    localhost:8001/api/v1/namespaces/default/services/<имя сервиса>/proxy/<путь>

kubectl create rolebinding <имя роль биндинга> --clusterrole=<имя роли> --serviceaccount=<неймсейс уч записи>:default -n <неймспейс для биндинга>
    привязать роль <имя роли> к учётной записи по умолчанию (default) в пространстве имён <неймспейс уч записи>,
    биндинг создаётся в пространстве имён <неймспейс для биндинга>

kubectl create clusterrolebinding <имя роли> --clusterrole=<имя роли> --serviceaccount=<неймспейс уч записи>:default
    привязать кластерную роль <имя роли> к учётной записи по умолчанию (default) пространство имён не указявается т к
    это кластерная роль не имеющая пространсва имён


